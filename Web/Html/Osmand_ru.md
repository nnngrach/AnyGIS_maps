| [AnyGIS][01] | [Как это работает?][02] | [RusOutdoor Maps][03] | [Скачать карты][04] | [API][05] |


[01]: https://nnngrach.github.io/AnyGIS_maps/index
[02]: https://nnngrach.github.io/AnyGIS_maps/Web/Html/Description_ru
[03]: https://nnngrach.github.io/AnyGIS_maps/Web/Html/RusOutdoor_ru
[04]: https://nnngrach.github.io/AnyGIS_maps/Web/Html/DownloadPage_ru
[05]: https://nnngrach.github.io/AnyGIS_maps/Web/Html/Api_ru
[07]: https://nnngrach.github.io/AnyGIS_maps/Web/Html/Vektor_and_raster_ru




# Карты для OsmAnd

[Список изменений][0]

[0]: https://nnngrach.github.io/AnyGIS_maps/Web/Html/Changelog_ru

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/4mapsOsmand.png)



Не секрет, что базового комплекта карт, с которым поставляется приложение, часто не хватает. Однако существует возможность добавлять их самостоятельно. Представляю вашему вниманию два набора [растровых][07] онлайн-карт:

### Базовый набор
Отличный вариант для начинающих. Если вы еще не уверены в том, какие именно карты стоит закачать в навигатор, то начните именно с этой подборки. Здесь собран минимальный комплект из наиболее необходимых, на мой взгляд, карт.  Этот набор подойдет не только для того, чтобы ознакомиться с различными типами карт, которые можно установить в приложение, но и вполне справится с большинством повседневных задач. Все же, кто хочет более основательно разобраться в основных типах карт предлагаю прочитать эту [статью][1].

[Скачать карты (целиком)][2]

[Скачать карты (выборочно)][3]


[1]: https://shuriktravel.ru/maps/

[2]: https://minhaskamal.github.io/DownGit/#/home?url=https://github.com/nnngrach/AnyGIS_maps/tree/master/Osmand_online_maps/Maps_short_ru

[3]: https://nnngrach.github.io/AnyGIS_maps/Web/Html/Download/OsmAnd_Maps_Short_ru



### Полный набор
Если вы уже знаете, какие именно карты вам требуются, то эта подборка для вас. Замечу, что она уже включает в себя карты из подборок от других составителей: [Erelen][6], [Dreame][7], [ms.Galileo-app][8], [Custom-maps-sourse][9] и некоторых других. А так же тут есть множество карт из программы [SAS.Planet][10]. Всего в комплекте около сотни карт. Вот некоторые из них:

- Карты для города (Яндекс, Google, Here, Bing, 2gis)
- Спутниковые снимки (Яндекс, Google, ERSI, Here, Mapbox) 
- Карты на основе OSM (Mapnik, Cycle, Outdoors, OpenTopoMaps, OpenSeaMap, OpenSnowMap и др.)
- Растровые топографические (Генштаб, ГГЦ, Маршруты.ру)
- Растровые туристические (карты Завьялова ММБ; атласы и хребтовки Кавказа, Карелии, Крыма, Алтая и др.)
- Сборник карт для пешего и горного туризма ([RusOutdoor Set][5])
- Карты со справочной информацией (Wikimapia)

[Скачать карты (целиком)][11]

[Скачать карты (выборочно)][12]



[5]: https://github.com/nnngrach/AnyGIS_maps/tree/master/Experimantal_area
[6]: https://melda.ru/locus/maps/
[7]: http://4pda.ru/forum/index.php?showtopic=210573&st=3060#entry52768866
[8]: https://ms.galileo-app.com/
[9]: https://custom-map-source.appspot.com/
[10]: http://www.sasgis.org/

[11]: https://minhaskamal.github.io/DownGit/#/home?url=https://github.com/nnngrach/AnyGIS_maps/tree/master/Osmand_online_maps/Maps_full_ru

[12]: https://nnngrach.github.io/AnyGIS_maps/Web/Html/Download/OsmAnd_Maps_Full_ru



### Инструкция по установке для Android

* Если вы скачали карты целиком, то нужно распаковать zip-архив.
* Поместите скачанный файл карты с расширением `.sqlitedb` на свой смартфон в папку  `Android\data\net.osmand\files\tiles` 
* Если по каким-то причинам у вас нет такой папки (например, Osmand установлен на SD-карту), то нужно узнать, в какой именно директория он находится. Для этого запустите приложение, откройте `Настройки`, выберите пункт `Основные настройки` и промотайте вниз до пункта `Каталог для хранения данных`. Здесь будет указан адрес. Карты нужно копировать в подпапку `tiles`

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_patch.png)

* Новые карты должны появиться в приложении в разделах `Источник карты`, `Карты покрытия`, `Карта подложки`
* После этого можно устанавливать новые карты как в качестве основного слоя, так и в качестве дополнительного.
* Если постребуется убрать какую-либо карту из списка, то нужно удалить её из папки с помощью файлового менеджера.

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_maplist.png)


### Инструкция по установке для  IOS

На данный момент мне не удалось подключить к IOS-версии приложения ни одну внешнюю онлайн-карту. Если вам известно, как это можно сделать, пожалуйста, свяжитесь со мной.

> Внимание! У некоторых серверов с картами иногда проседает скорость. Увы, в подобных случаях Osmand для экономии заряда может принудительно разорвать соединение, не давая таким образом картам докачаться. Подобное чаще всего происходит с картами OpenTopoMaps, OpenStreetMaps, 4Umaps, RusOutdoorMaps, YandexTraffic. Замечу, что через некоторое время сервер может разгрузиться и карты снова могут начать нормально скачиватсья.



### Инструкция по работе с дополнительными слоями

Osmand позволяет показывать и скрывать дополнительные слои, отображая их поверх основной карты. Для этого:

* Откройте меню `Настроить карту`
* Выберите пункт `Карта покрытия`

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_100.png)

* В появившемся списке выберите интересующий вас слой

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_101.png)

* Откроется меню в котором можно настроить прозрачность слоя с помощью горизонтального ползунка. Чтобы скрыть это меню и начать поьзоваться картой достаточно кликнуть на любое место карты.

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_102.png)

* Если потребется скрыть этот дополнительный слой, то достаточно вернуться в меню `Настроить карту` и просто кликнуть на тумблер справа от пункта `Карта покрытия`

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_103.png)



### Инструкция по настройке кнопки Быстрых действий

Однако существует еще один способ, который многим может показаться более удобным: можно добавить скрытие/отображение дополнительного слоя на кнопку быстрого действия. 

* Откройте меню `Настроить экран`

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_104.png)

* С помощью иконок в верху меню переключитесь на интересующий вас режим отображения. (На картинке выбран пешеходный режим)
* Кликните на тумблер справа от кнопки `Быстрое действие`, чтобы на экране устройства отображалась эта кнопка.
* После этоно нажмите на саму надпись `Быстрое действие`, чтобы внести необходимые настройки. 

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_105.png)

* Нажмите на кнопку с синим плюсиком, чтобы добавить новое действие.
* В открывшемся окне выберите `Сменить карту покрытия`

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_106.png)

* Нажмите на кнопку `Добавить карту покрытия`

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_107.png)

* В открывшемся окне выберите карту, которую вы хотите добавить. В моем случае это - Overlay_Strava.
* После этого еще раз нажмите `Добавить карту покрытия`. 
* На этот раз выберите пункт `Нет покрытия`. 

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_107.png)

* В результате, меню должно выглядеть примерно так. Теперь, при каждом новом нажатии на кнопку быстрого действия эти пункты будут сменять друг друга, тем самым то включая, то отключая показ дополнительного слоя.

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_109.png)

* Настало время проверить, как это работает. Выйдите из всех меню, чтобы оказаться на экране с показом карты.
* На экране появится новая кнопка для запуска быстрых действий. Кликните на нее.

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_110.png)

* Откроется меню с только что добавленной нами кнопкой Overlay_Strava. Нажмите на нее, чтобы включить или выключить этот допонительный слой. Теперь это действительно можно делать довольно быстро.

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_111.png)

> На момент написания статьи эта функция действовала только в Android-версии OsmAnd.





### Инструкция по сохранению карты в кэш

Если вам нужно проматривать карту без интернета, то ее можно выделить какой-либо усасток местности и скачать его в кэш. Замечу, что [растровые][07] онлайн-карты имеют довольно большой объем и могут скачиваться сравнительно долго. Поэтому рекомендую выкачивать только небольшие участки местности: например, не всю Алтайскую область целиком, а только тот участок леса, в который вы планируете посетить. А теперь перейдем к инструкции:

* Откройте Османд и выберите интересующую карту.
* Подгоните масштаб карты, чтобы на экране отображалаяь та область, которую вы хотите выкачать. Скачается только то, что в данный момент на экране!

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_112.png)

* Нажмите и удерживайте на любое место на экране. Появится всплывающее меню.
* Выберите пункт `Действия`. Затем  `Загрузить карту`.

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_113.png)

* Появится меню с ползунком. Выберите до какого уровня приближения нужно скачивать карту. Индикатор покажет, какой объем, примерно, будет скачанный фрагмент. Нажмите ОК. 

![](https://nnngrach.github.io/AnyGIS_maps/Web/Img/Osmand_pic_114.png)

После этого область на экране будет скачана в кэш выбранной карты и будет доступна без интернета. Кстати, если скачиваемая область имеет сложную форму и плохо укладывается в прямогугольник экрана, то можно выкачивать ее в несколько этапов.

> На момент написания статьи эта функция действовала только в Android-версии OsmAnd.



### Инструкция по работе с динамическими картами

Замечу, что среди карт этой подборки есть несколько динамических. Я имею ввиду все карты с пробками: Яндекс Пробки, Google и Here Traffic. Туда же стоит отнести и слой с движущимися кораблями OpenSeaMaps. Стоит отметить, что приложение не рассчитывалось на подобные карты, так что для того, чтобы с ними можно было работать потребуются каждый раз проделывать дополнительные операции.

Допустим, у вас на экране уже отображется динамическая карта. Например, Яндекс пробки. Прошло некоторое время и вам хочется узнать, не изменилось ли состояние на дорогах. Для этого нужно сделать следующее:

* Нужно сделать так, чтобы обновляемая карта не отображалась на экране. Если карта выбрана в качестве базового слоя, то переключите её на другую. Если она выбрана в качестве подложки, то просто отключите отображение поджлоки. 
* Выключите OsmAnd, чтобы сбросить кэш.
* Включите OsmaAnd.
* Снова включите карту, которую требовалось обновить. 

После этих действий карта будет загружена заново. И если состояние пробок изменилось, то вы это увидите.




---


На этом всё. Если у вас есть предложения, какие еще источники карт стоит добавить в подборку (а какие удалить), то пишите мне на электронную почту. Желательно, приложить к письму ссылку на страницу с интересующей картой. Ну и, конечно же, сообщайте об ошибках и неточностях на сайте.


<p align="center">
<a href="mailto:anygis@bk.ru">anygis@bk.ru</a> 
</p>

